{{ $tab_set_id := .Get "name" | default "tabset" | anchorize }}
{{ $tabs := .Scratch.Get "tabs" }}
{{ if .Inner }}{{/* We don't use the inner content, but Hugo will complain if we don't reference it. */}}{{ end }}
<div id="{{ $tab_set_id }}">
    <ul>
    	{{ range $i, $e := $tabs }}
    	  {{ $id := printf "%s-%d" $tab_set_id $i }}
        <li><a href="#{{ $id }}">{{ trim .name " " }}</a></li>
		{{ end }}
    </ul>
    {{ range $i, $e := $tabs }}
    	  {{ $id := printf "%s-%d" $tab_set_id $i }}
			<div id="{{ $id }}">
				{{ $path := path.Join $.Page.Dir .include }}
				{{ $page := $.Page.Site.GetPage "page" $path }}
				{{ with $page }}
					{{ .Content }}
				{{ else }}	
				{{ errorf "[%s] tabs include not found for path %q" $.Page.Site.Language.Lang $path}}
				{{ end }}
			</div>
    {{ end }}
</div>
<script>$(function(){$({{ printf "#%s" $tab_set_id }}).tabs();});</script>
